# DO NOT EDIT - MAINTAINED BY ANSIBLE
# https://github.com/ufirstgroup/ansible-nginx-base-config

log_format timing '$remote_addr [$time_iso8601] "$http_host" '
                  'status $status '
                  'request $request_time '
                  'upstream $upstream_response_time '
                  '"$request" "$http_referer" '
                  'agent "$http_user_agent"';

log_format access_json '{ '
      '"timestamp": "$time_iso8601", '
      '"request_id": "$rid", '
      '"context": "$log_context", '
      '"message": "$request", '
      '"http_status": "$status", '
      '"scheme": "$scheme", '
      '"host": "$host", '
      '"remote_addr": "$remote_addr", '
      '"body_bytes_sent": "$body_bytes_sent", '
      '"time": "$request_time", '
      '"upstream": "$upstream_response_time", '
      '"method": "$request_method", '
      '"referrer": "$http_referer", '
      '"user_agent": "$http_user_agent", '
      '"msec": "$msec" }';

# see https://support.cloudflare.com/hc/en-us/articles/200169746-Adding-the-CF-RAY-header-to-your-logs
log_format cloudflare_json '{ '
      '"timestamp": "$time_iso8601", '
      '"request_id": "$rid", '
      '"ray_id": "$http_cf_ray", '
      '"context": "$log_context", '
      '"message": "$request", '
      '"http_status": "$status", '
      '"scheme": "$scheme", '
      '"host": "$host", '
      '"remote_addr": "$remote_addr", '
      '"body_bytes_sent": "$body_bytes_sent", '
      '"time": "$request_time", '
      '"upstream": "$upstream_response_time", '
      '"method": "$request_method", '
      '"referrer": "$http_referer", '
      '"user_agent": "$http_user_agent", '
      '"msec": "$msec" }';
